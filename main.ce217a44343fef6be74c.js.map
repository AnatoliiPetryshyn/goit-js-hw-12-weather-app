{"version":3,"sources":["webpack:///./js/getGeoPosition.js","webpack:///./js/fetchWeather.js","webpack:///./js/app.js","webpack:///./templates/currentWeatherTemplates.hbs"],"names":["getCurrentPosition","Promise","resolve","reject","navigator","geolocation","minimumAge","baseUrl","apiKey","currentweather","fetchWeather","query","fetch","then","response","ok","json","Error","PNotify","defaults","styling","icons","getGeoPosition","position","coords","latitude","longitude","error","refs","searchForm","document","querySelector","weatherSection","value","currentWeather","markup","currentWeatherTemplate","currentWeatherMarkup","innerHTML","insertAdjacentHTML","title","text","classList","remove","addEventListener","e","preventDefault","currentTarget","elements","city","reset","Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","data","helper","escapeExpression","helperMissing","call","nullContext","name","hash","3","compiler","main","stack1","alias1","alias2","lambda","alias3","current","weather_icons","fn","program","inverse","noop","weather_descriptions","location","temperature","humidity","wind_speed","useData"],"mappings":"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","file":"main.ce217a44343fef6be74c.js","sourcesContent":["const getCurrentPosition = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const options = {\r\n      minimumAge: 30,\r\n    };\r\n    navigator.geolocation.getCurrentPosition(resolve, reject, options);\r\n  });\r\n};\r\n\r\nexport default getCurrentPosition;\r\n","const baseUrl = 'https://api.weatherstack.com/';\r\nconst apiKey = 'access_key=0979667ce34bb3a5fd10e72265e85685';\r\nconst currentweather = 'current?';\r\n\r\nfunction fetchWeather(query) {\r\n  const queryParam = `&query=${query}`;\r\n  return fetch(baseUrl + currentweather + apiKey + queryParam).then(\r\n    response => {\r\n      if (response.ok) return response.json();\r\n      throw new Error('Network response was not ok.');\r\n    },\r\n  );\r\n}\r\n\r\nexport default fetchWeather;\r\n","import PNotify from 'pnotify/dist/es/PNotify.js';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport 'pnotify/dist/PNotifyBrightTheme.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport getGeoPosition from './getGeoPosition';\r\nimport fetchWeather from './fetchWeather';\r\nimport currentWeatherTemplate from '../templates/currentWeatherTemplates.hbs';\r\n\r\n// Set default styling.\r\nPNotify.defaults.styling = 'material';\r\n// This icon setting requires the Material Icons font. (See below.)\r\nPNotify.defaults.icons = 'material';\r\n\r\ngetGeoPosition()\r\n  .then(position => {\r\n    const coords = `${position.coords.latitude},${position.coords.longitude}`;\r\n    fetch(coords);\r\n  })\r\n  .catch(error =>\r\n    PNotify.error(\r\n      'Нет прав доступа к геопозиции, используйте поиск по имени города.',\r\n    ),\r\n  );\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  weatherSection: document.querySelector('#weather'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', submitFormHandler);\r\n\r\nfunction submitFormHandler(e) {\r\n  e.preventDefault();\r\n\r\n  const inputValue = e.currentTarget.elements.city.value;\r\n  fetch(inputValue);\r\n\r\n  e.currentTarget.reset();\r\n}\r\n\r\nfunction currentWeatherMarkup(currentWeather) {\r\n  return currentWeatherTemplate(currentWeather);\r\n}\r\n\r\nfunction fetch(value) {\r\n  fetchWeather(value)\r\n    .then(currentWeather => {\r\n      const markup = currentWeatherMarkup(currentWeather);\r\n      refs.weatherSection.innerHTML = '';\r\n      refs.weatherSection.insertAdjacentHTML('beforeend', markup);\r\n    })\r\n    .catch(error => {\r\n      PNotify.error({\r\n        title: 'Oh No!',\r\n        text: error,\r\n      });\r\n    });\r\n\r\n  refs.weatherSection.classList.remove('is-hidden');\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"\\r\\n        \"\n    + container.escapeExpression(((helper = (helper = helpers[\"0\"] || (depth0 != null ? depth0[\"0\"] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"0\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n      \";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"    \"\n    + container.escapeExpression(((helper = (helper = helpers[\"0\"] || (depth0 != null ? depth0[\"0\"] : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"0\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression;\n\n  return \"<h2 class=\\\"weather__title\\\">Current weather</h2>\\r\\n<img class=\\\"icon\\\" src=\\\"\"\n    + ((stack1 = helpers[\"with\"].call(alias1,((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_icons : stack1),{\"name\":\"with\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" alt=\\\"\"\n    + ((stack1 = helpers[\"with\"].call(alias1,((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_descriptions : stack1),{\"name\":\"with\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\" />\\r\\n<p class=\\\"weather__parameters\\\">Location: <span data-field=\\\"location\\\">\"\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.location : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</span></p>\\r\\n<p class=\\\"weather__parameters\\\">Temperature: <span data-field=\\\"temp\\\">\"\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.temperature : stack1), depth0))\n    + \" &#8451;</span></p>\\r\\n<p class=\\\"weather__parameters\\\">Humidity: <span data-field=\\\"humidity\\\">\"\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.humidity : stack1), depth0))\n    + \" %</span></p>\\r\\n<p class=\\\"weather__parameters\\\">Wind: <span data-field=\\\"wind\\\">\"\n    + alias3(alias2(((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.wind_speed : stack1), depth0))\n    + \" kph</span></p>\\r\\n<p class=\\\"weather__parameters\\\">Conditions:\\r\\n  <span data-field=\\\"conditions\\\">\\r\\n\"\n    + ((stack1 = helpers[\"with\"].call(alias1,((stack1 = (depth0 != null ? depth0.current : depth0)) != null ? stack1.weather_descriptions : stack1),{\"name\":\"with\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"  </span>\\r\\n</p>\";\n},\"useData\":true});"],"sourceRoot":""}